import { getDefaultConfig } from '@rainbow-me/rainbowkit';
import { Chain } from 'viem';
import { createConfig, http } from 'wagmi';
import { localhost } from 'wagmi/chains';

// RISE Testnet configuration
export const riseTestnet: Chain = {
  id: 11155931,
  name: 'RISE Testnet',
  nativeCurrency: {
    decimals: 18,
    name: 'RISE',
    symbol: 'RISE',
  },
  rpcUrls: {
    default: {
      http: ['https://testnet.riselabs.xyz'],
    },
    public: {
      http: ['https://testnet.riselabs.xyz'],
    },
  },
  blockExplorers: {
    default: { 
      name: 'RISE Explorer', 
      url: 'https://testnet.explorer.risechain.io' 
    },
  },
  testnet: true,
};

// Contract addresses from deployment (hardcoded for demo)
export const CONTRACTS = {
  USDC: '0x5FbDB2315678afecb367f032d93F642f64180aa3', // Mock USDC deployed on localhost
  TRANCHE_VAULT: '0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512', // TrancheVault from previous deployment
  SENIOR_TOKEN: '0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0',
  JUNIOR_TOKEN: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9',
  RISK_PARAMS: '0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9',
  ORACLE_MANAGER: '0x5FC8d32690cc91D4c39d9d3abcBD16989F875707',
  FLASH_EPOCHS: '0x0000000000000000000000000000000000000000',
  KINETIC_FEES: '0x0000000000000000000000000000000000000000',
  // Core Risk & AI Features
  LADDERED_EPOCHS: '0x0000000000000000000000000000000000000000',
  DRAWDOWN_SHIELD: '0x0000000000000000000000000000000000000000',
  YIELD_TELEPORT: '0x0000000000000000000000000000000000000000',
  LIQUIDITY_STAIRCASE: '0x0000000000000000000000000000000000000000',
  // Wall Street-Inspired Features
  CPPI_AUTOPILOT: '0x0000000000000000000000000000000000000000',
  AUTOCALLABLE_NOTE: '0x0000000000000000000000000000000000000000',
  VOL_TARGET_INDEX: '0x0000000000000000000000000000000000000000',
  DISPERSION_BOX: '0x0000000000000000000000000000000000000000',
  CASH_CARRY_VAULT: '0x0000000000000000000000000000000000000000',
  REPO_SAFE_YIELD: '0x0000000000000000000000000000000000000000',
  CALENDAR_CARRY: '0x0000000000000000000000000000000000000000',
  RISK_PARITY_OVERLAY: '0x0000000000000000000000000000000000000000',
  DEFINED_OUTCOME_SERIES: '0x0000000000000000000000000000000000000000',
  // Portfolio & Social Features  
  PORTFOLIO_TRACKER: '0x0000000000000000000000000000000000000000',
  RAINY_DAY_LADDER: '0x0000000000000000000000000000000000000000',
  RENT_ESCROW: '0x0000000000000000000000000000000000000000',
  EDU_FUND: '0x0000000000000000000000000000000000000000',
  TRAVEL_VAULT: '0x0000000000000000000000000000000000000000',
  INVOICE_NOTE: '0x0000000000000000000000000000000000000000',
  FAMILY_PLAN: '0x0000000000000000000000000000000000000000',
  EXPENSE_SHARING: '0x0000000000000000000000000000000000000000',
  SOCIAL_POT: '0x0000000000000000000000000000000000000000',
  ROUND_UP_CARDLINK: '0x0000000000000000000000000000000000000000',
  // NFT Contracts
  LADDER_SHARES_1155: '0x0000000000000000000000000000000000000000',
  SHIELD_POLICIES_1155: '0x0000000000000000000000000000000000000000',
  YIELD_NOTES_1155: '0x0000000000000000000000000000000000000000',
  LIQUIDITY_NFTS: '0x0000000000000000000000000000000000000000',
  AUTOCALLABLE_NFTS: '0x0000000000000000000000000000000000000000',
  VOL_INDEX_SHARES: '0x0000000000000000000000000000000000000000',
};

// Wagmi configuration
export const wagmiConfig = getDefaultConfig({
  appName: 'FluxTranche',
  projectId: process.env.NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID || 'default',
  chains: [localhost, riseTestnet],
  ssr: true,
});

// RISE Wallet SDK configuration for passkey support
export const riseWalletConfig = {
  appName: 'FluxTranche',
  chainId: riseTestnet.id,
  features: {
    passkey: true,
    gasSponsorship: true,
    sessionKeys: true,
  },
  sponsorshipPolicy: {
    maxGasPrice: '10000000000', // 10 gwei
    maxGasLimit: '1000000',
  },
};
